# ğŸš— API de Reservas de VehÃ­culos

Este proyecto es una **API RESTful** desarrollada con [NestJS](https://nestjs.com/), [TypeORM](https://typeorm.io/) y [SQLite](https://www.sqlite.org/), como parte de la prÃ¡ctica 1 de la asignatura *AplicaciÃ³n para el Servidor Web*. Sistema completo para gestiÃ³n de reservas de vehÃ­culos.

---

## ğŸ“š Entidades implementadas

1. ğŸ‘¤ **Cliente** â€” GestiÃ³n de datos de clientes del sistema de reservas.
2. ğŸš— **VehÃ­culo** â€” CatÃ¡logo de vehÃ­culos disponibles para reserva.
3. ğŸ“… **Reserva** â€” Sistema de reservas con relaciones entre clientes y vehÃ­culos.

---

## ğŸ”— Relaciones entre entidades

- **Cliente** 1:N **Reserva** â€” Un cliente puede tener mÃºltiples reservas
- **VehÃ­culo** 1:N **Reserva** â€” Un vehÃ­culo puede ser reservado mÃºltiples veces
- **Reserva** N:1 **Cliente** â€” Cada reserva pertenece a un cliente
- **Reserva** N:1 **VehÃ­culo** â€” Cada reserva estÃ¡ asociada a un vehÃ­culo

---

## âš™ï¸ TecnologÃ­as utilizadas

- NestJS (TypeScript)
- TypeORM
- SQLite
- Class Validator / DTOs
- Postman para pruebas

---

## ğŸš€ InstalaciÃ³n y ejecuciÃ³n

1. **Clonar el repositorio:**

```bash
git clone https://github.com/IsaacZacha/ServidoresWebb.git
cd ServidoresWebb
```

2. **Instalar dependencias:**

```bash
npm install
```

3. **Ejecutar en modo desarrollo:**

```bash
npm run start:dev
```

4. **Compilar para producciÃ³n:**

```bash
npm run build
npm run start:prod
```

---

## ğŸ“‹ Endpoints disponibles

### ğŸ‘¤ Clientes
- `GET /clientes` â€” Obtener todos los clientes
- `GET /clientes/:id` â€” Obtener cliente por ID
- `POST /clientes` â€” Crear nuevo cliente
- `PATCH /clientes/:id` â€” Actualizar cliente
- `DELETE /clientes/:id` â€” Eliminar cliente

### ğŸš— VehÃ­culos
- `GET /vehiculos` â€” Obtener todos los vehÃ­culos
- `GET /vehiculos/disponibles` â€” Obtener vehÃ­culos disponibles
- `GET /vehiculos/:id` â€” Obtener vehÃ­culo por ID
- `POST /vehiculos` â€” Crear nuevo vehÃ­culo
- `PATCH /vehiculos/:id` â€” Actualizar vehÃ­culo
- `DELETE /vehiculos/:id` â€” Eliminar vehÃ­culo

### ğŸ“… Reservas
- `GET /reservas` â€” Obtener todas las reservas
- `GET /reservas/:id` â€” Obtener reserva por ID
- `GET /reservas/cliente/:clienteId` â€” Obtener reservas de un cliente
- `GET /reservas/vehiculo/:vehiculoId` â€” Obtener reservas de un vehÃ­culo
- `POST /reservas` â€” Crear nueva reserva
- `PATCH /reservas/:id` â€” Actualizar reserva
- `PATCH /reservas/:id/confirmar` â€” Confirmar reserva
- `PATCH /reservas/:id/cancelar` â€” Cancelar reserva
- `DELETE /reservas/:id` â€” Eliminar reserva

---

## ğŸ”§ Estructura del proyecto

```
src/
â”œâ”€â”€ cliente/
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â””â”€â”€ cliente.entity.ts
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ create-cliente.dto.ts
â”‚   â”‚   â””â”€â”€ update-cliente.dto.ts
â”‚   â”œâ”€â”€ cliente.controller.ts
â”‚   â”œâ”€â”€ cliente.service.ts
â”‚   â””â”€â”€ cliente.module.ts
â”œâ”€â”€ vehiculo/
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â””â”€â”€ vehiculo.entity.ts
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ create-vehiculo.dto.ts
â”‚   â”‚   â””â”€â”€ update-vehiculo.dto.ts
â”‚   â”œâ”€â”€ vehiculo.controller.ts
â”‚   â”œâ”€â”€ vehiculo.service.ts
â”‚   â””â”€â”€ vehiculo.module.ts
â”œâ”€â”€ reserva/
â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â””â”€â”€ reserva.entity.ts
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ create-reserva.dto.ts
â”‚   â”‚   â””â”€â”€ update-reserva.dto.ts
â”‚   â”œâ”€â”€ reserva.controller.ts
â”‚   â”œâ”€â”€ reserva.service.ts
â”‚   â””â”€â”€ reserva.module.ts
â”œâ”€â”€ app.module.ts
â””â”€â”€ main.ts
```

---

## ğŸ’¾ Base de datos

El proyecto utiliza SQLite como base de datos, con las siguientes caracterÃ­sticas:

- **SincronizaciÃ³n automÃ¡tica**: TypeORM sincroniza automÃ¡ticamente las entidades
- **Archivo de BD**: `db.sqlite` en la raÃ­z del proyecto
- **Relaciones**: Manejo completo de relaciones entre entidades

---

## ğŸ§ª Pruebas con Postman

Para probar la API, puedes usar los siguientes ejemplos:

### Crear cliente
```json
POST /clientes
{
  "nombre": "Juan",
  "apellido": "PÃ©rez",
  "email": "juan.perez@email.com",
  "telefono": "123456789",
  "direccion": "Calle 123",
  "documento_identidad": "12345678"
}
```

### Crear vehÃ­culo
```json
POST /vehiculos
{
  "marca": "Toyota",
  "modelo": "Corolla",
  "placa": "ABC123",
  "tipo": "SedÃ¡n",
  "aÃ±o": 2023,
  "color": "Blanco",
  "precio_por_dia": 50.00
}
```

### Crear reserva
```json
POST /reservas
{
  "cliente_id": 1,
  "vehiculo_id": 1,
  "fecha_inicio": "2025-07-10",
  "fecha_fin": "2025-07-15",
  "observaciones": "Reserva para vacaciones"
}
```

---

## ğŸ‘¨â€ğŸ’» Autor

**Isaac Zacha** - [GitHub](https://github.com/IsaacZacha)

---

## ğŸ“„ Licencia

Este proyecto es parte de un trabajo acadÃ©mico para la asignatura *AplicaciÃ³n para el Servidor Web*.

